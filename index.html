<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>KylinEyes&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="兴趣所然的个人小站">
<meta property="og:type" content="website">
<meta property="og:title" content="KylinEyes&#39;s Blog">
<meta property="og:url" content="https://kylineyes.github.io/index.html">
<meta property="og:site_name" content="KylinEyes&#39;s Blog">
<meta property="og:description" content="兴趣所然的个人小站">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KylinEyes&#39;s Blog">
<meta name="twitter:description" content="兴趣所然的个人小站">
    

    
        <link rel="alternate" href="/" title="KylinEyes&#39;s Blog" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                
                <span class="site-title">KylinEyes&#39;s Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/images/Personal/Blog.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/images/Personal/Blog.png" />
            <h2 id="name">Kylineyes</h2>
            <h3 id="title">Student</h3>
            <span id="location"><i class="fa fa-map-marker"></i>ShenZhen, China</span>
            <a id="follow" target="_blank" href="https://github.com/Kylineyes">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                27
                <span>文章</span>
            </div>
            <div class="article-info-block">
                14
                <span>标签</span>
            </div>
        </div>
        
        <!--div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="/" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div-->
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-C/Note-C-Traps-and-Pitfalls-3" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-3/" itemprop="url">
            <img src="/images/C/C-Note-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-3/">C Traps and Pitfalls 摘记(3)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-3/">
            <time datetime="2018-12-17T06:34:25.000Z" itemprop="datePublished">2018-12-17</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C/">C</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/C/">C</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="库函数"><a href="#库函数" class="headerlink" title="库函数"></a>库函数</h1><p>C语言中没有定义输入/输出语句，任何一个有用的C程序，都必须调用库函数来完成最基本的输入/输出操作。ANSI C标准毫无疑问地意识到了这一点，因而定义了一个包含大量标准库函数的集合。从理论上说，任何一个C语言实现都应该提供这些标准库函数。ANSI C中定义的标准库函数集合并不完备。例如，基本上所有的C语言实现都包括了执行“底层”I/O的<code>read</code>和<code>write</code>函数，但是这些函数却并没有出现在ANSI C标准中。</p>
<p>（有关底层文件I/O，请参考<a href="https://blog.csdn.net/owen7500/article/details/53263981" target="_blank" rel="noopener">这篇文章</a>）</p>
<h2 id="返回整数的getchar函数"><a href="#返回整数的getchar函数" class="headerlink" title="返回整数的getchar函数"></a>返回整数的getchar函数</h2><p>我们首先考虑下面的例子</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">while</span>((c = getchar()) != EOF)</span><br><span class="line">    	<span class="built_in">putchar</span>(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>getchar</code>函数在一般情况下返回的是标准输入文件中的下一个字符，当没有输入时返回<code>EOF</code>（一个在头文件<code>stdio.h</code>中被定义的值，不同于任何一个字符）。这个程序乍一看似乎是把标准输入复制到标准输出，实则不然。</p>
<p>原因在于程序中的变量<code>c</code>被声明为<code>char</code>类型，而不是<code>int</code>类型。这意味着<code>c</code>无法容下所有可能的字符，特别是，可能无法容下<code>EOF</code>。这样导致结果存在三种可能：</p>
<ol>
<li>某些合法输入的字符在被“截断”后使得<code>c</code>的取值与<code>EOF</code>相同。程序将在文件复制的中途终止。</li>
<li><code>c</code>根本不可能取到<code>EOF</code>这个值。程序将陷入一个死循环。</li>
<li>编译器将“截断”的值赋给了c，但是进行比较运算的是<code>c</code>与<code>getchar</code>函数的返回值。这种情况下，是编译器采取的做法出现了问题。但是这种情况下，程序表面上是可以正常工作的，但是并不正确。</li>
</ol>
<h2 id="缓冲输出与内存分配"><a href="#缓冲输出与内存分配" class="headerlink" title="缓冲输出与内存分配"></a>缓冲输出与内存分配</h2><p>C语言提供了两种程序输出方式，一种是即时处理方式，这种会将输出立即将输出展示给用户。但是可能会造成较高的系统负担。有些时候这种即时性的行为不是必要的，可以先暂存起来。而C语言实现通常都允许程序员进行实际的写操作之前控制产生的输出数据量。</p>
<p>这种控制能力一般是通过库函数<code>setbuf</code>实现的。如果<code>buf</code>是一个大小适当的字符数组，那么<code>setbuf(stdout,buf)</code>语句将通知输入/输出库，所有写入到<code>stdout</code>的输出都应该使用<code>buf</code>作为输出缓冲区，直到<code>buf</code>缓冲区被填满或者程序员直接调用<code>fflush</code>，buf缓冲区中的内容才实际写入到<code>stdout</code>中。缓冲区的大小由系统头文件<code>stdio.h</code>中的<code>BUFSIZ</code>定义。</p>
<p>那么自然，我们会写出这样的程序：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">    <span class="keyword">char</span> buf[BUFSIZ];</span><br><span class="line">    setbuf(<span class="built_in">stdout</span>, buf);</span><br><span class="line">    <span class="keyword">while</span>((c = getchar()) != EOF)</span><br><span class="line">    	<span class="built_in">putchar</span>(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是，这个程序是错误的，<code>buf</code>缓冲区最后一次被清空在<code>main</code>函数结束之后，作为程序交回控制给操作系统之前C运行时库所必须进行的清理工作的一部分。但是，在此之前<code>buf</code>字符数组已经被释放。</p>
<p>要避免这种情况有两种解决方法：</p>
<ol>
<li>将缓冲数组设置为静态数组，尝试添加<code>static</code>关键字或者将其声明完全移动到<code>main</code>函数之外。</li>
<li>使用<code>malloc</code>动态分配缓冲区，然后在程序中并不主动释放分配的缓冲区。</li>
</ol>
<h1 id="预处理器"><a href="#预处理器" class="headerlink" title="预处理器"></a>预处理器</h1><p>在严格意义上的编译过程开始之前，C语言预处理器首先对程序代码作了必要的转换处理。因此，我们运行的程序实际上并不是我们所写的程序。预处理器使得编程者可以简化某些工作，它的重要性可以由两个主要的原因说明：</p>
<ol>
<li>我们也许会遇到这种情况，需要将某个特定数量（比如某个数据表的大小）在程序中出现的所有实例统统加以修改。我们希望能够通过在程序中只改动一处数值，然后重新编译就可以实现。预处理器要做到这一点可以说是轻而易举，即使这个数值在程序中的很多地方出现。我们只需要将这个数值定义为一个显式常量（manifest constant），然后在程序中需要的地方使用这个常量即可。而且预处理器还能够很容易把所有常量定义都集中在一起，这样要找到这些常量也非常容易。</li>
<li>大多数C语言实现在函数调用时都会带来重大的系统开销。因此，我们也许希望有这样一种程序块，它看上去像一个函数，但却没有函数调用的开销。举例来说，<code>getchar</code>和<code>putchar</code>经常被实现为宏，以避免在每次执行输入或者输出一个字符这样简单的操作时，都要调用相应的函数而造成系统效率的下降。</li>
</ol>
<h2 id="宏并不是函数"><a href="#宏并不是函数" class="headerlink" title="宏并不是函数"></a>宏并不是函数</h2><p>老生常谈的问题，我们拿最简单的<code>abs</code>宏来说：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> abs(x) x&gt;0?x:-x</span></span><br></pre></td></tr></table></figure>
<p>对于一个数来说，表达一切正常，但是如果套上一个表达式呢</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(a-b);</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line">a-b&gt;<span class="number">0</span>?a-b:-a-b;</span><br></pre></td></tr></table></figure>
<p>这里的<code>-a-b</code>就跟我们期望的<code>-(a-b)</code>不一样了。所以我们最好在宏定义中把每个参数都用括号括起来。同样，整个结果表达式也应该用括号括起来，以防止当宏用于一个更大一些的表达式可能出现的问题。例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(a)+<span class="number">1</span>;</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line">a&gt;<span class="number">0</span>?a:-a+<span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>第二个重要的问题是要确保宏中的参数没有副作用。这里副作用主要指：</p>
<ol>
<li>不要进行重复求值，导致效率低下。</li>
<li>不要进行重复运算，导致越界。</li>
</ol>
<p>这两种情况都需要我们密切关注，将已经求好的值再放入宏中。</p>
<h2 id="宏不是语句"><a href="#宏不是语句" class="headerlink" title="宏不是语句"></a>宏不是语句</h2><p>编程者有时会试图定义宏的行为与语句类似，但这样做的实际困难往往令人吃惊！以<code>assert</code>宏为例，它的参数是一个表达式，如果该表达式为0，就使程序终止执行，并给出一条适当的出错消息。把<code>assert</code>作为宏来处理，这样就使得我们可以在出错信息中包括有文件名和断言失败处的行号。</p>
<p>那么接下来我们要开始尝试定义<code>assert</code>宏：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> assert(e) <span class="meta-keyword">if</span> (!e) assert_error(__FILE__,__LINE__)</span></span><br></pre></td></tr></table></figure>
<p>因为考虑到宏<code>assert</code>的使用者会加上一个分号，所以在宏定义中并没有包括分号。<br>但是如果将其放在<code>if-else</code>结构中，那么<code>else</code>的部分就会错误匹配，我们需要改进我们的定义。</p>
<p>我们可能可以试着加上大括号，把宏整体括起来，就能避免<code>else</code>的错误匹配，改进后的宏为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> assert(e) &#123;<span class="meta-keyword">if</span> (!e) assert_error(__FILE__,__LINE__); &#125;</span></span><br></pre></td></tr></table></figure>
<p>但是这个定义，在上面那个例子中，会带来一个新的问题，如果那个例子如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(condition)</span><br><span class="line">	assert(condition1);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	assert(condition2);</span><br><span class="line"><span class="comment">// 会被展开为</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(condition)</span><br><span class="line">	&#123;<span class="keyword">if</span> (!condition1) assert_error(__FILE__,__LINE__); &#125;;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	&#123;<span class="keyword">if</span> (!condition2) assert_error(__FILE__,__LINE__); &#125;;</span><br></pre></td></tr></table></figure>
<p>花括号尾的分号是一个语法错误。如果要解决这个问题，一个办法是对<code>assert</code>的调用后面都不再跟一个分号，但是这样的用法显得有些“怪异”。</p>
<p>下面给出宏<code>assert</code>的正确定义，它很不直观，但是利用了<code>||</code>运算符对两侧操作数依次顺序求值的性质（短路运算）。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> assert(e) \</span></span><br><span class="line">	((<span class="keyword">void</span>)((e) || assert_error(__FILE__,__LINE__)))</span><br></pre></td></tr></table></figure>
<h1 id="可移植性缺陷"><a href="#可移植性缺陷" class="headerlink" title="可移植性缺陷"></a>可移植性缺陷</h1><h2 id="除法运算时发生的截断"><a href="#除法运算时发生的截断" class="headerlink" title="除法运算时发生的截断"></a>除法运算时发生的截断</h2><p>假如我们让<code>a</code>除以<code>b</code>，商为<code>q</code>，余数为<code>r</code>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">q = a / b;</span><br><span class="line">r = a % b;</span><br></pre></td></tr></table></figure>
<p>这里，不妨假定<code>b</code> 大于 0。</p>
<p>我们希望<code>a</code>、<code>b</code>、<code>q</code>、<code>r</code>之间维持怎样的关系呢？</p>
<ol>
<li>最重要的一点，我们希望$ q \times b + r = a $，因为这是定义余数的关系。</li>
<li>如果我们改变$ a $的正负号，我们希望这会改变$ q $的符号，但这不会改变$ q $的绝对值。</li>
<li>当$ b &gt; 0 $时，我们希望保证$ r &gt;= 0 $且$ r &lt; b $。例如，如果余数用于哈希表的索引，确保它是一个有效的索引值很重要。</li>
</ol>
<p>这三条性质是我们认为整数除法和余数操作所应该具备的。很不幸的是，它们不可能同时满足。</p>
<p>例如，$3 / 2$，商$ 1 $，余数$ 1 $，此时，第1条性质得到了满足。但是$ \left( -3 \right) / 2 $的值应该是多少呢？如果要满足第2条性质，答案应该是$ -1 $，但是如果是这样，余数就必定是$ -1 $，这样第3条性质就无法满足。</p>
<p>因此，C语言或者其他语言在实现整数除法截断运算时，必须放弃上述三条原则中的至少一条。大多数程序设计语言选择放弃了第3条，而改为要求余数与被除数的正负号相同。大多数C编译器在实践中也都是这样做的。</p>
<p>然而，C语言的定义只保证了第1条性质，以及当$ a \geq 0 $且$ b &gt; q $时，保证$ \left| r \right| &lt; \left| b \right| $以及$ r \geq 0 $，后面部分的保证与第2条性质或者第3条性质比较起来，限制性要弱得多。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-C/Note-C-Traps-and-Pitfalls-2" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-2/" itemprop="url">
            <img src="/images/C/C-Note-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-2/">C Traps and Pitfalls 摘记(2)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-2/">
            <time datetime="2018-12-16T16:14:32.000Z" itemprop="datePublished">2018-12-17</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C/">C</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/C/">C</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h1><p>一个C语言程序可能是由多个分别编译的部分组成的，这些不同部分通过一个通常叫做连接器（也叫连接编辑器，或载入器）的程序合并成一个整体。因为编译器一般每次只处理一个文件，所以它不能检测出那些需要一次了解多个源程序文件才能察觉的错误。而且，在许多系统中连接器是独立于C语言实现的，因此如果前述错误的原因是与C语言相关的，连接器对此同样束手无策。</p>
<p>某些C语言实现提供了一个称为lint的程序，可以捕获到大量的此类错误，但遗憾的是并非全部的C语言实现都提供了该程序。如果能够找到诸如lint的程序，就一定要善加利用，这一点无论怎么强调都不为过。</p>
<h2 id="什么是连接器"><a href="#什么是连接器" class="headerlink" title="什么是连接器"></a>什么是连接器</h2><p>C语言中的一个重要思想就是分别编译（Separate Complication），即若干个源程序可以在不同的时候单独进行编译，然后再恰当的时候整合到一起。<strong>连接器就是起到把若干个C源程序合并成一个整体的作用。连接器不理解C语言，然而它却能理解机器语言和内存布局。</strong>那么，编译器把C源程序“翻译”成对连接器有意义的形式，这样连接器就能够“读懂”C源程序。</p>
<p>典型的连接器把由编译器或汇编器生成的若干个目标模块，整合成一个被称为载入模块或可执行文件的实体，该实体能够被操作系统直接执行。其中，某些目标模块是直接作为输入提供给连接器的；而另外一些目标模块则是根据链接过程的需要，从包含有类似<code>printf</code>函数的库文件中取得的。</p>
<p>连接器通常把目标模块看成是一组外部对象（external object）组成的。每个外部对象代表着机器内存中的某个部分，并通过一个外部名称来识别。<strong>因此，程序中的每个函数和每个外部变量，如果没有被声明为<code>static</code>，就都是一个外部对象。</strong>某些C编译器会对静态函数和静态变量的名称做一定改变，将它们也作为外部对象。由于经过了“名称修饰”，所以它们不会与其他源程序文件中的同名函数或同名变量发生命名冲突。</p>
<p>大多数连接器都禁止同一个载入模块中的两个不同外部对象拥有相同的名称。然而，在多个目标模块整合成一个载入模块时，这些目标模块可能就包含了同名的外部对象。连接器的一个重要工作就是处理这类命名冲突。</p>
<p>处理命名冲突的最简单方法就是干脆完全禁止。对于外部对象是函数的情形，这种做法当然正确，一个程序如果包含两个同名的不同函数，编译器根本就不应该接受。而对于外部对象是变量的情形，问题就变得有些困难了。不同的连接器对这种情况有着不同的处理方式。</p>
<p>那么以上信息大概能让我们了解连接器是如何工作了：</p>
<ol>
<li>连接器输入是一组目标模块和库文件。</li>
<li>连接器输出是一个载入模块。</li>
<li>连接器读入目标模块和库文件，同时生成载入模块。</li>
<li>对每个目标模块中的每个外部对象，连接器都要检查载入模块，看看是否已有同名的外部对象。</li>
<li>如果没有同名的外部对象，连接器将该外部对象添加到载入模块中。</li>
<li>如果有同名的外部对象，连接器要开始处理命名冲突。</li>
</ol>
<p>除了外部对象之外，目标模块中还可能包括了对其他模块中的外部对象的引用。例如，一个调用了函数<code>printf</code>的C程序所生成的目标模块，就包括了一个对函数<code>printf</code>的引用。可以推测得出，该引用指向的是一个位于某个库文件中的外部对象。在连接器生成载入模块的过程中，它必须同时记录这些外部对象的引用。当连接器读入一个目标模块时，它必须解析出这个目标模块中定义的所有外部对象的引用，并作出标记说明这些外部对象不再是未定义的。</p>
<h2 id="声明与定义"><a href="#声明与定义" class="headerlink" title="声明与定义"></a>声明与定义</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a;</span><br></pre></td></tr></table></figure>
<p>如果这条声明语句出现在所有的函数体之外，那么它就被称为外部对象<code>a</code>的定义。这个语句说明了<code>a</code>是一个外部整型变量，同时为<code>a</code>分配了存储空间。因为外部对象<code>a</code>并没有被明确指定任何初始值，所以它的初始值默认为0。<strong>C编译器有责任以适当方式通知连接器，确保未指定初始值的外部变量被初始化为0。</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> a;</span><br></pre></td></tr></table></figure>
<p>这条语句不是对<code>a</code>的定义。这个语句仍然说明<code>a</code>是一个外部整型变量，但是因为它包括了<code>extern</code>关键字，这就显式地说明了<code>a</code>的存储空间是在程序的其他地方分配的。<strong>从连接器的角度来看，上述声明是一个对外部变量<code>a</code>的引用，而不是对<code>a</code>的定义。</strong>因为这种形式的声明是对一个外部对象的显式引用，即使它出现在一个函数的内部，也仍然具有同样的含义。</p>
<p>每个外部对象都必须在程序某个地方进行定义。因此，<code>extern</code>的指定外部对象必然要有对应的定义。但是如果有多个同一个外部对象名称的定义，将会出现什么样的情形呢？</p>
<p>例如在一个源文件出现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">7</span>;</span><br></pre></td></tr></table></figure>
<p>另一个源文件中出现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">9</span>;</span><br></pre></td></tr></table></figure>
<p>这种情况下，实际结果与系统有关。不同系统可能有不同的处理方法。严格的规则是：<code>每个外部变量只能够定义一次。</code>如果外部的变量的多个定义各指定一个初始值，大多数系统都会拒绝接受该程序。</p>
<h2 id="形参、实参与返回值"><a href="#形参、实参与返回值" class="headerlink" title="形参、实参与返回值"></a>形参、实参与返回值</h2><p>如果一个函数在被定义或声明前被调用，那么它的返回类型就默认为整型。例如下面整个程序可以正确的被连接：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>, func());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是如果<code>func</code>函数的返回值变成了非<code>int</code>型，而是<code>char</code>之类，那么当连接器将调用命令和<code>func</code>函数连接时就会得出错误的结果。</p>
<p>然后我们再来看形参与实参。C语言中形参与实参匹配的规则稍微有一点复杂。ANSI C允许程序员在声明时指定函数的参数类型：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">square</span><span class="params">(<span class="keyword">double</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<p>根据这个声明，<code>square(2)</code>是合法的：整数2将会被自动转换成双精度类型，跟<code>double square((double)2)</code>或<code>double(2.0)</code>一样。</p>
<p>如果一个函数没有<code>float</code>、<code>short</code>或<code>char</code>类型的参数，在函数声明中完全可以省略参数类型的说明。即在ANSI C下，像这样声明<code>square</code>也是可以的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">square</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>这样做依赖于调用者能够提供数目正确且类型恰当的实参。这里的“恰当”并不意味着“等同”：<code>float</code>类型的参数会自动转换为<code>double</code>类型，<code>short</code>或<code>char</code>类型的参数会自动转换为<code>int</code>类型。<strong>但是反过来，省略<code>float</code>等类型的参数不能够正确通过。</strong></p>
<h2 id="检查外部类型"><a href="#检查外部类型" class="headerlink" title="检查外部类型"></a>检查外部类型</h2><p>假如我们有一个C程序，它由两个源文件。一个文件中包含外部变量<code>n</code>的声明：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> n;</span><br></pre></td></tr></table></figure>
<p>另一个文件中包含外部变量<code>n</code>的定义：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> n;</span><br></pre></td></tr></table></figure>
<p>这里假定两个语句都不在任何一个函数体内，因此<code>n</code>是外部变量。</p>
<p>这是一个无效的C程序，因为同一个外部变量名在两个不同的文件中被声明为不同类型。然而，大多数C语言实现却不能检测出这种错误。编译器对这两个不同的文件分别进行处理，这两个文件的编译时间可以相差好几个月。因此，编译器在编译一个文件时，并不知道另一个文件的内容。连接器可能对C语言一无所知，因此它也不知道如何比较两个<code>n</code>的定义中的类型。当这个程序编译或运行时，可能会发生的情况：</p>
<ol>
<li>C语言编译器足够“聪明”，能够检测到这一类型冲突。编译者将会得到一条诊断消息，报告变量n在两个不同的文件中被给定了不同的类型。</li>
<li>C语言实现对<code>int</code>类型的数数值与<code>long</code>类型的数值在内部表示上是一样的。在这种情况下，程序很可能正常工作。本来错误的程序因为某种巧合却能够工作。</li>
<li>变量<code>n</code>的两个实例虽然要求的存储空间的大小不同，但是它们共享存储空间的方式却恰好能够满足这样的条件：赋给其中一个的值，对另一个也是有效的。例如<code>char</code>与<code>int</code>。</li>
<li>变量<code>n</code>的两个实例共享存储空间的方式，使得对其中一个赋值时，其效果相当于同时给另一个赋了完全不同的值。在这种情况下，程序将不能正常的工作。</li>
</ol>
<p>因此，保证一个特定名称的所有外部定义在每个目标模块中都有相同的类型，一般来说是程序员的责任。而且，“相同的类型”应该是严格意义上的相同。</p>
<p>下面的例子将重现这一个陷阱的发生：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">char</span> a[<span class="number">4</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">// a.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"a.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</span><br><span class="line">    	<span class="built_in">printf</span>(<span class="string">"%p\n"</span>, a[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> a;</span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	a = <span class="number">0x11223344</span>;</span><br><span class="line">	func();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后按下面的顺序生成例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gcc -c a.c</span><br><span class="line"><span class="comment"># 进行预处理, 编译, 不进行链接, 生成的是目标文件(object file)</span></span><br><span class="line">ar -crv libtest.a a.o</span><br><span class="line"><span class="comment"># 使用ar命令将.o文件打包成静态库。静态库文件名的命名规范是以lib为前缀，紧接着跟静态库名，扩展名为.a。</span></span><br><span class="line">gcc main.c -o main -L. -ltest</span><br><span class="line"><span class="comment"># 将静态库加入连接；-L. 是指在当前路径下查找静态库；-ltest 是指链接libtest.a，gcc会在静态库名前加上前缀lib，然后追加扩展名.a得到的静态库文件名来查找静态库文件。</span></span><br><span class="line">./main</span><br><span class="line"><span class="comment"># 调用可执行文件，可以看到a在main()中被当作int解释，func()中被当作char[4]解释，但是它们用的是同一块内存空间。</span></span><br></pre></td></tr></table></figure>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-C/Thinking-C-Traps-and-Pitfalls-1" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/12/15/C/Thinking-C-Traps-and-Pitfalls-1/" itemprop="url">
            <img src="/images/C/C-Note-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/12/15/C/Thinking-C-Traps-and-Pitfalls-1/">C Traps and Pitfalls 练习摘记(1)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/12/15/C/Thinking-C-Traps-and-Pitfalls-1/">
            <time datetime="2018-12-15T15:25:29.000Z" itemprop="datePublished">2018-12-15</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C/">C</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/C/">C</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="语法“陷阱”"><a href="#语法“陷阱”" class="headerlink" title="语法“陷阱”"></a>语法“陷阱”</h1><p><strong>练习 2-1：</strong> C语言运行初始化列表中出现多余的逗号，例如</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> days[] = &#123; <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>,</span><br><span class="line">	<span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>,&#125;;</span><br></pre></td></tr></table></figure>
<p>为什么这种特性是有用的？</p>
<p><strong>答案：</strong> 我们可以看出，初始化列表每一个元素后面都跟着一个逗号，这种语法上的相似性，为自动化的程序设计工具提供了方便。亦即当代码是由工具自己编写产生的时候，就不需要花费心思去特别的判定结尾了。</p>
<hr>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Cplusplus/Note-Effective-Cpp-1" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/10/07/Cplusplus/Note-Effective-Cpp-1/" itemprop="url">
            <img src="/images/Cplusplus/Cplusplus-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/10/07/Cplusplus/Note-Effective-Cpp-1/">Effective C++ 摘记(1)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/10/07/Cplusplus/Note-Effective-Cpp-1/">
            <time datetime="2018-10-06T19:12:56.000Z" itemprop="datePublished">2018-10-07</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C/">C++</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/C/">C++</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="条款02-尽量以const-enum-inline-替换-define"><a href="#条款02-尽量以const-enum-inline-替换-define" class="headerlink" title="条款02 尽量以const, enum, inline 替换#define"></a>条款02 尽量以const, enum, inline 替换#define</h1><p>当我们进行 #define 的时候，代码在预处理器的时候就已经被替换了，于是记号名称有可能没有进入记号表(Symbol table)内，于是你应用此常量但获得一个编译错误信息的时候，错误信息可能只会提及到被替换后的值。这时的错误跟踪会十分浪费时间，故此时，我们应该用一个常量来替换宏。</p>
<blockquote>
<p>定义常量指针时，因此有必要将指针声明为const，但是同时你应该也要保证指针指向之物不变，此时应该用两个const限定。如<br><code>const char* const authorName = &quot;Scott Meyers&quot;</code><br>但是同时，string对象比 char*-based指针更加合适，故应该使用<br><code>const std::string authorName(&quot;Scott Meyers&quot;)</code></p>
</blockquote>
<p>其次，在class类内声明一个静态成员常量，例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tuple</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> GroupSize = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">int</span> value[GroupSize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然而你所看到的是GroupSize的声明式而非定义式。通常C++要求你要用的所有东西提供一个定义式，但如果它是个class专属常量又是static且为整数类型(int/char/bool)，则需要特殊处理。<br>只要你不取他的地址，你可以声明并使用它们而无须提供定义式。但是若你<strong>一定要取某个class成员常量的地址或者编译器坚持要看到一个定义式（通常发生在较老的编译器上）</strong>，就需要提供一个这样的式子：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Tuple::GroupSize;</span><br></pre></td></tr></table></figure>
<p>这个式子应该放在实现文件而非头文件，由于class常量在声明时已经获得了初值，因此定义时不可以再设初值。</p>
<p>但是有些老旧的编译器不允许static成员在其声明式获得初值，或者所谓”in-class 初值设定”也只能对整数常量进行。此时我们可以在实现文件中定义其初值。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Tuple::GroupSize = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<p>但是此时我们想要像上面Tuple类中value数组利用GroupSize的值进行分配内存初始化的操作是非法的。因为此时GroupSize值是不明确的，此时要使用“the enum hack”的补偿做法。其理论基础是:<strong>一个属于枚举类型(“enumerated type”)的数值可权充整数类型被使用</strong>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tuple</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">enum</span> &#123; GroupSize = <span class="number">5</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> value[GroupSize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-C/Note-C-Traps-and-Pitfalls-1" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/08/09/C/Note-C-Traps-and-Pitfalls-1/" itemprop="url">
            <img src="/images/C/C-Note-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/08/09/C/Note-C-Traps-and-Pitfalls-1/">C Traps and Pitfalls 摘记(1)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/08/09/C/Note-C-Traps-and-Pitfalls-1/">
            <time datetime="2018-08-09T13:35:39.000Z" itemprop="datePublished">2018-08-09</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C/">C</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/C/">C</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="词法“陷阱”"><a href="#词法“陷阱”" class="headerlink" title="词法“陷阱”"></a>词法“陷阱”</h1><p>我们把符号（token）表示为程序的一个基本信息单元。每个符号都蕴含着一些信息，可能是数据，可能是操作。编译器中把程序（我认为是源程序代码）分解成一个一个符号的部分，称为<code>词法分析器</code>。</p>
<p>一个例子：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (x &gt; big) big = x;</span><br></pre></td></tr></table></figure>
<p>把上述符号分隔开，每行一个，我们可以得到</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span></span><br><span class="line">(</span><br><span class="line">x</span><br><span class="line">&gt;</span><br><span class="line">big</span><br><span class="line">)</span><br><span class="line">big</span><br><span class="line">=</span><br><span class="line">x</span><br><span class="line">;</span><br></pre></td></tr></table></figure>
<p>那么C语言如何处理一些令人产生疑惑的语句呢？书中（引用一）的第一章介绍了一种方法。</p>
<p><strong>词法分析中的“贪心法”</strong></p>
<p>C语言中分为单字符符号如 /、*、和 =，还有多字符符号如 /* 和 == 。</p>
<p>当C编译器读入一个字符 ‘/‘ 后跟又跟了一个字符 ’*‘，那么编译器就必须做出判断：是将其作为两个分别的符号对待，还是合起来作为一个符号对待。</p>
<p>C语言对这个问题的解决方案可以归纳为一个简单的规则：每一个符号应该包含尽可能多的字符。也就是说，编译器将程序分解成符号的方法是，从左到右一个字符一个字符读入，如果该字符可能组成一个符号，那么再读入下一个字符，判断已经读入的两个字符组成的字符串是否可能是一个符号的组成部分；如果可能，继续读入下一个字符，重复上述判断，直到读入的字符组成的字符串已不再可能组成一个有意义的符号。这个处理策略有时被称为“贪心法”或者”大嘴法”。</p>
<p>需要注意：除了字符串与字符常量，符号的中间不能嵌有空白（空格符、制表符和换行符）。<br>即<code>a---b</code>与<code>a -- - b</code>是一样的，但与<code>a - -- b</code>的含义不同。</p>
<p>这里有个表现其存在的例子，<code>y = x/*p</code>可以理解为是x除以p指针指向的值，将其所得的商赋给y，但是<code>/*</code>被编译器理解为一段注释的开始，编译会不断的读入字符，直到<code>*/</code>出现为止。这样，这个语句会变成<code>y = x</code>。</p>
<blockquote>
<p>老版本的C语言支持<code>=+</code>来代表<code>+=</code>的含义，即<code>a=-1</code>会被理解为<code>a =- 1</code>，亦即<code>a = a - 1</code>，此时你的原意可能是<code>a = -1</code></p>
</blockquote>
<h2 id="整型常量"><a href="#整型常量" class="headerlink" title="整型常量"></a>整型常量</h2><p>如果一个整型常量的第一个字符是数字0，那么会被编译器看作八进制数，意义也就变了。有些编译器还允许8和9在定义8进制数的时候出现，这种处理方法在ANSI C标准禁止这种用法，就不细究了。但是我们要注意的是在某些情况下，我们需要对齐，进行了前补零，此时的意义就不是照我们原来所想的了。</p>
<h2 id="字符与字符串"><a href="#字符与字符串" class="headerlink" title="字符与字符串"></a>字符与字符串</h2><p>printf函数的第一个参数原型是一个<code>const char*</code>，但是某些C编译器对函数参数并不进行类型检查，我们可能将双引号引起的字符串无意间写成单引号引起的字符串。此时会在程序运行的时候产生难以预料的错误，而不会给出编译器诊断信息。<br>单引号引起的字符串，大多数C编译器会理解为一个整数值，而其值，是由里面的每一个字符所代表的整数值按照特定编译器实现中的定义的方式组合得到。</p>
<blockquote>
<p>在 Borland C++ v.5.5 和 LCC v3.6 中，做法是忽略多余的字符，以第一个字符的整数值作为其代表的整数值。<br>在 Visual C++ 6.0 和 GCC v2.95 中，做法是依次用后一个字符覆盖前一个字符，最后得到的整数值即最后一个字符的整数值<br>在 MSVC 15.0 中，做法是所有字符的整数值从左到右顺序链接起来得到的整数值，例如`123`字符串的整数值为<code>3224115</code>，即<code>31 32 33</code></p>
</blockquote>
<h1 id="语法”陷阱“"><a href="#语法”陷阱“" class="headerlink" title="语法”陷阱“"></a>语法”陷阱“</h1><h2 id="运算符优先级判定"><a href="#运算符优先级判定" class="headerlink" title="运算符优先级判定"></a>运算符优先级判定</h2><p>对于程序员书写表达式来说，优先级问题肯定是无法回避的问题，虽然用添加括号可以避免过于复杂的情况，不用花费过多精力去理解上。但其实可以将运算符恰当分组，理解各组运算符之间的相对优先级，提高我们的编程效率。</p>
<ol>
<li>优先级最高的是<code>() [] -&gt; .</code>，它们不是真正意义上的运算符，但是它们自左向右的结合，这是很自然的。</li>
<li>其次是各类单目运算符<code>! ~ ++ -- + - (type) * &amp; sizeof</code>，它们都是自右向左的结合，这意味着我们可以写出<code>*p++</code>这种语法，会被编译器理解为<code>*(p++)</code>，也是很自然的。但是要注意的是<code>*p()</code>是对一个函数p求值后取内容。</li>
<li>其次是各类双目算式以及移位运算符，在这其中<code>* / %</code>的级别最高，<code>+ -</code>其次，然后是<code>&lt;&lt; &gt;&gt;</code>，这意味着<code>x&lt;&lt;1 + 3</code>会被理解成<code>x&lt;&lt;(1 + 3)</code>，实际编程中这种错误常常出现。它们都是自右向左的结合。</li>
<li>再之后是双目关系以及逻辑运算符。它们都是自左向右的结合。同时，我们可以写出<code>a &lt; b == c &lt; d</code>，这个意义是ab的大小关系是否和cd的大小关系一样。</li>
<li>最后是三目运算符和赋值运算符。它们是自右向左的结合，比较特殊。故我们可以写出<code>a += b = c</code>这种写法，被编译器理解为<code>a += (b = c)</code>。</li>
<li>逗号运算符是优先级最低的运算符。</li>
</ol>
<h2 id="switch穿透"><a href="#switch穿透" class="headerlink" title="switch穿透"></a>switch穿透</h2><p>C语言switch的穿透特性，既是它的优势所在，也是它的一大弱点。如果程序员有意略去break语句，可以表达其他方式很难方便加以实现的程序控制结构。反之，如果忘记填上break语句，则会造成一些难以理解的程序行为。当我们要特意略去break语句时，应该在对应case部分的末尾填上注释，方便以后维护。</p>
<h1 id="语义“陷阱”"><a href="#语义“陷阱”" class="headerlink" title="语义“陷阱”"></a>语义“陷阱”</h1><h2 id="指针与数组"><a href="#指针与数组" class="headerlink" title="指针与数组"></a>指针与数组</h2><p>指针和数组这两个概念在C语言中密不可分，理解其中一个概念必须同时也要理解另一个概念。<br>C语言中的数组值得注意的地方有以下两点：</p>
<ol>
<li>C语言中只有一维数组，而且数组的大小必须在编译期就作为一个常数确定下来（除去VLA）。然而，C语言中数组的元素可以是任何类型的对象，当然也就可以是另一个数组。这样，“仿真”出一个多维数组不是难事。</li>
<li>对于一个数组，我们只能够做两件事：确定该数组的大小，以及获得指向该数组下标为0的元素的指针。其他有关数组的操作，哪怕它们看上去是以数组下标进行运算的，实际上都是通过指针进行的。</li>
</ol>
<p>一旦我们彻底弄懂了这两点以及它们隐含的意思，那么理解C语言的数组运算就十分简单，我们分两种情况讨论。</p>
<ol>
<li><p>当数组被当作<code>sizeof</code>的操作数<br><code>sizeof</code>这个运算符会计算操作数所占用的空间，当数组被当作操作数时，<code>sizeof</code>会如实计算这个数组所占用的内存空间，例如 求取<code>int a[2][3]</code>内存空间，即<code>sizeof(a)</code>，会得到<code>2 * 3 * sizeof(int)</code>的结果。</p>
</li>
<li><p>当数组不是用作<code>sizeof</code>的操作数<br>这种情况下，数组总是会被转换成一个指向该数组的起始元素的指针<em>（我称这种行为叫做数组的指针退化）</em>，那么此时再使用<code>sizeof</code>去操作这个变量，得到的其实是指针的所占用的内存空间大小。</p>
</li>
</ol>
<h2 id="作为参数的数组声明"><a href="#作为参数的数组声明" class="headerlink" title="作为参数的数组声明"></a>作为参数的数组声明</h2><p>在c语言中，我们没有办法可以将一个数组作为函数参数直接传递。如果我们使用数组名作为参数，那么数组名会立即被转换为指向该数组第一个元素的指针。例如，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> hello[] = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>, hello);</span><br></pre></td></tr></table></figure>
<p>我们声明了<code>hello</code>是一个字符数组，但是在<code>printf</code>中，我们将该数组作为参数时传递给函数时，会被像上文一样，“数组总是会被转换成一个指向该数组的起始元素的指针”。<br>因此，将数组作为函数参数毫无意义。所以在C语言中会将作为参数的数组声明转换为相应的指针声明。例如，下面两种函数的声明写法是等效的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strlen</span><span class="params">(<span class="keyword">char</span> s[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strlen</span><span class="params">(<span class="keyword">char</span> *s)</span></span>;</span><br></pre></td></tr></table></figure>
<p>但是注意，在使用<code>extern</code>来声明一个全局变量时，要注意数组和指针的不同，例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">char</span> *hello;</span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">char</span> hello[];</span><br></pre></td></tr></table></figure>
<p>这两者声明的并不是同一个变量。</p>
<h2 id="求值顺序"><a href="#求值顺序" class="headerlink" title="求值顺序"></a>求值顺序</h2><p>C语言中的某些运算符总是以一种已知的、规定的顺序来对其操作数进行求值，而另外一些则不是这样。例如在<code>a &lt; b &amp;&amp; c &lt; d</code>这个表达式中，C语言的定义中说明了<code>a &lt; b</code>应当首先被求值，如果a确实小于b，此时再对<code>c &lt; d</code>求值，否则，则表达式肯定为假，就无需再对<code>c &lt; d</code>求值了。<br>这个例子揭示了一种运算类型，也是经常所说的：短路运算。亦即当二元逻辑运算符的前半部分可以确定整个表达式的值时，就无需再对后半部分求值了。<br>短路运算会导致一些问题，例如当某个变量的变化依赖于表达式的后半部分时，因为短路运算，导致变量的变化可能会有不预期的变化。在实际编程时，首先要避免此类代码的出现，但当这种逻辑简单明了时，也需要添加注释，以便维护。例如常见的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(y != <span class="number">0</span> &amp;&amp; x/y &gt; tolerance)</span><br><span class="line">	complain();</span><br></pre></td></tr></table></figure>
<p>一个典型的避免除零错误的判定，逻辑简单明了，短路运算在这其中发挥了重要的作用，此时的注释是可选的。</p>
<p>此外，C语言中只有四个运算符（<code>&amp;&amp; || ?: ,</code>）存在规定的求值顺序。而其他的所有运算符对其操作数的求值是未定义的。特别的，赋值运算符并不保证任何求值顺序。下面这种从数组x中复制前n个元素到数组y中的做法是不正确的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; n)</span><br><span class="line">	y[i] = x[i++];</span><br></pre></td></tr></table></figure>
<p>上述代码假设<code>y[i]</code>的地址将在<code>i</code>的自增操作执行之前被求值，这一点并没有任何保证！在C语言的某些实现上，有可能在<code>i</code>自增之前被求值，而在另外一些实现上，有可能与此相反。遇到这种情况时，请把自增操作和赋值操作独立分成两个语句。</p>
<h2 id="整数溢出"><a href="#整数溢出" class="headerlink" title="整数溢出"></a>整数溢出</h2><p>在C语言中存在两类整数算术运算，有符号运算和无符号运算。在无符号运算中，没有所谓的“溢出”说法。而在有符号整数与无符号整数的混合运算中，有符号整数会被转化为无符号整数，“溢出”也不可能发生。但是当两个操作数都是有符号整数时，“溢出”就有可能发生，而且“溢出”的结果是未定义的。当一个运算的结果发生“溢出”时，作出任何假设都是不安全的。</p>
<p>假定<code>a</code>和<code>b</code>是两个非负整型变量，我们需要检查<code>a+b</code>是否会“溢出”。一个想当然的方法是这样的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a + b &lt; <span class="number">0</span>)</span><br><span class="line">	complain();</span><br></pre></td></tr></table></figure>
<p>这并不能正常运行，当<code>a+b</code>确定发生“溢出”时，所有关于结果如何的假设都不再可靠。例如，在某些机器上，加法运算将设置一个内部寄存器为四种状态之一：正、负、零和溢出。在这种机器上，C编译器完全有理由这样来实现上面的例子：在<code>a+b</code>之后，检查该内部寄存器的标志是否为“负”。当发生“溢出”时，这个内部寄存器的状态是溢出而不是负，那么判定检查就会失败。</p>
<p>一种正确的做法是在相加之前就把<code>a</code>与<code>b</code>强制转换为无符号整型：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>((<span class="keyword">unsigned</span>)a + (<span class="keyword">unsigned</span>)b &gt; INT_MAX)</span><br><span class="line">	complain();</span><br></pre></td></tr></table></figure>
<p>另外一种不需要用到无符号算术运算的另一种可行方法是：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a &lt; INT_MAX - b)</span><br><span class="line">	complain();</span><br></pre></td></tr></table></figure>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-TheLinuxCommandLineLearn/Notes-3" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/08/01/TheLinuxCommandLineLearn/Notes-3/" itemprop="url">
            <img src="/images/TheLinuxCommandLineLearn/TheLinuxCommandLineLearn-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/08/01/TheLinuxCommandLineLearn/Notes-3/">快乐的 Linux 命令行 个人笔记(3)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/08/01/TheLinuxCommandLineLearn/Notes-3/">
            <time datetime="2018-08-01T13:22:59.000Z" itemprop="datePublished">2018-08-01</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Linux/">Linux</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Linux/">Linux</a>, <a class="tag-link" href="/tags/Shell/">Shell</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>本文对应章节：<br><a href="http://billie66.github.io/TLCL/book/chap04.html" target="_blank" rel="noopener">探究操作系统</a></p>
<h1 id="选项和参数"><a href="#选项和参数" class="headerlink" title="选项和参数"></a>选项和参数</h1><p>命令名经常会带有一个或多个用来更正命令行为的选项， 更进一步，选项后面会带有一个或多个参数，这些参数是命令作用的对象。所以大多数命令看起来像这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">command</span> -options arguments</span><br></pre></td></tr></table></figure>
<p>大多数命令使用的选项，是由一个中划线加上一个字符组成，例如，“-l”，但是许多命令，包括来自于 GNU 项目的命令，也支持长选项，长选项由两个中划线加上一个字组成。当然， 许多命令也允许把多个短选项串在一起使用。举一个例子，<code>ls -lt</code>，ls 命令有两个选项， “l” 选项产生长格式输出，“t”选项按文件修改时间的先后来排序。<br>加上长选项 “–reverse”，则结果会以相反的顺序输出：<code>ls -lt --reverse</code>。</p>
<p>ls 命令选项</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>长选项</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>–all</td>
<td>列出所有文件，甚至包括文件名以圆点开头的默认会被隐藏的隐藏文件。</td>
</tr>
<tr>
<td>-d</td>
<td>–directory</td>
<td>通常，如果指定了目录名，ls 命令会列出这个目录中的内容，而不是目录本身。 把这个选项与 -l 选项结合使用，可以看到所指定目录的详细信息，而不是目录中的内容。</td>
</tr>
<tr>
<td>-F</td>
<td>–classify</td>
<td>这个选项会在每个所列出的名字后面加上一个指示符。例如，如果名字是 目录名，则会加上一个’/‘字符。</td>
</tr>
<tr>
<td>-h</td>
<td>–human-readable</td>
<td>当以长格式列出时，以人们可读的格式，而不是以字节数来显示文件的大小。</td>
</tr>
<tr>
<td>-l</td>
<td></td>
<td>以长格式显示结果。</td>
</tr>
<tr>
<td>-r</td>
<td>–reverse</td>
<td>以相反的顺序来显示结果。通常，ls 命令的输出结果按照字母升序排列。</td>
</tr>
<tr>
<td>-S</td>
<td></td>
<td>命令输出结果按照文件大小来排序。</td>
</tr>
<tr>
<td>-t</td>
<td></td>
<td>按照修改时间来排序。</td>
</tr>
</tbody>
</table>
<h2 id="长格式输出研究"><a href="#长格式输出研究" class="headerlink" title="长格式输出研究"></a>长格式输出研究</h2><p>“-l”选项导致 ls 的输出结果以长格式输出。这种格式包含大量的有用信息。</p>
<p>一个 <code>ls -al</code> 的实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x    2 root     root          1002 Jun  8  2015 .</span><br><span class="line">drwxr-xr-x    1 root     root             0 Jun  8  2015 ..</span><br><span class="line">-rwxr-xr-x    1 root     root         12503 Jun  8  2015 apctrl</span><br><span class="line">-rwxr-xr-x    1 root     root          2487 Jun  8  2015 askfirst</span><br><span class="line">-rwxr-xr-x    1 root     root          8439 Jun  8  2015 ated</span><br><span class="line">-rwxr-xr-x    1 root     root         31127 Jun  8  2015 block</span><br><span class="line">-rwxrwxr-x    1 root     root         20981 Oct 23  2014 config-vlan</span><br><span class="line">lrwxrwxrwx    1 root     root            14 Jun  8  2015 devmem -&gt; ../bin/busybox</span><br></pre></td></tr></table></figure>
<p>长格式列表的字段</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-rw-r–r–</td>
<td>对于文件的访问权限。第一个字符指明文件类型。在不同类型之间，开头的“－”说明是一个普通文件，“d”表明是一个目录。其后三个字符是文件所有者的访问权限，再其后的三个字符是文件所属组中成员的访问权限，最后三个字符是其他所有人的访问权限。</td>
</tr>
<tr>
<td>1</td>
<td>文件的硬链接数目。</td>
</tr>
<tr>
<td>root</td>
<td>文件所有者的用户名。</td>
</tr>
<tr>
<td>root</td>
<td>文件所属用户组的名字。</td>
</tr>
<tr>
<td>12503</td>
<td>以字节数表示的文件大小。</td>
</tr>
<tr>
<td>Jun  8  2015</td>
<td>上次修改文件的时间和日期。</td>
</tr>
<tr>
<td>apctrl</td>
<td>文件名。</td>
</tr>
</tbody>
</table>
<h1 id="确定文件类型"><a href="#确定文件类型" class="headerlink" title="确定文件类型"></a>确定文件类型</h1><p>随着探究操作系统的进行，知道文件包含的内容是很有用的。我们将用 file 命令来确定文件的类型。我们之前讨论过， 在 Linux 系统中，并不要求文件名来反映文件的内容。然而，一个类似 “picture.jpg” 的文件名，我们会期望它包含 JPEG 压缩图像，但 Linux 却不这样要求它。可以这样调用 file 命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file filename</span><br></pre></td></tr></table></figure>
<p>当调用 file 命令后，file 命令会打印出文件内容的简单描述。例如使用<code>file picture.jpg</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">picture.jpg: JPEG image data, JFIF standard 1.01</span><br></pre></td></tr></table></figure>
<h1 id="用-less-浏览文本内容"><a href="#用-less-浏览文本内容" class="headerlink" title="用 less 浏览文本内容"></a>用 less 浏览文本内容</h1><p>less 命令是一个用来浏览文本文件的程序。纵观 Linux 系统，有许多人类可读的文本文件。less 程序为我们检查文本文件提供了方便。</p>
<p>为什么我们要查看文本文件呢？ 因为许多包含系统设置的文件（叫做配置文件），是以文本格式存储的，阅读它们 可以更深入的了解系统是如何工作的。另外，许多系统所用到的实际程序（叫做脚本）也是以这种格式存储的。 在随后的章节里，我们将要学习怎样编辑文本文件以修改系统设置，还要学习编写自己的脚本文件，但现在我们只是看看它们的内容而已。<br>使用<code>less filename</code>来查看文本文件的内容。<br>一旦 less 程序运行起来，我们就能浏览文件内容了。如果文件内容多于一页，那么我们可以上下滚动文件。按下“q”键， 退出 less 程序。</p>
<p>less 命令</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>行为</th>
</tr>
</thead>
<tbody>
<tr>
<td>Page UP or b</td>
<td>向上翻滚一页</td>
</tr>
<tr>
<td>Page Down or space</td>
<td>向下翻滚一页</td>
</tr>
<tr>
<td>UP Arrow</td>
<td>向上翻滚一行</td>
</tr>
<tr>
<td>Down Arrow</td>
<td>向下翻滚一行</td>
</tr>
<tr>
<td>G</td>
<td>移动到最后一行</td>
</tr>
<tr>
<td>1G or g</td>
<td>移动到开头一行</td>
</tr>
<tr>
<td>/charaters</td>
<td>向前查找指定的字符串</td>
</tr>
<tr>
<td>n</td>
<td>向前查找下一个出现的字符串，这个字符串是之前所指定查找的</td>
</tr>
<tr>
<td>h</td>
<td>显示帮助屏幕</td>
</tr>
<tr>
<td>q</td>
<td>退出 less 程序</td>
</tr>
</tbody>
</table>
<p>less 程序是早期 Unix 程序 more 的改进版。less 属于”页面调度器”类程序，这些程序允许以逐页方式轻松浏览长文本文档。 more 程序只能向前翻页，而 less 程序允许前后翻页，此外还有很多其它的特性。</p>
<h1 id="系统漫游"><a href="#系统漫游" class="headerlink" title="系统漫游"></a>系统漫游</h1><p>Linux 系统中的目录</p>
<table>
<thead>
<tr>
<th>目录</th>
<th>评论</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>根目录，万物起源。</td>
</tr>
<tr>
<td>/bin</td>
<td>包含系统启动和运行所必须的二进制程序。</td>
</tr>
<tr>
<td>/boot</td>
<td>包含 Linux 内核、初始 RAM 磁盘映像（用于启动时所需的驱动）和 启动加载程序。</td>
</tr>
<tr>
<td>/dev</td>
<td>这是一个包含设备结点的特殊目录。“一切都是文件”，也适用于设备。 在这个目录里，内核维护着所有设备的列表。</td>
</tr>
<tr>
<td>/etc</td>
<td>这个目录包含所有系统层面的配置文件。它也包含一系列的 shell 脚本， 在系统启动时，这些脚本会开启每个系统服务。这个目录中的任何文件应该是可读的文本文件。</td>
</tr>
<tr>
<td>/home</td>
<td>在通常的配置环境下，系统会在/home 下，给每个用户分配一个目录。普通用户只能 在自己的目录下写文件。这个限制保护系统免受错误的用户活动破坏。</td>
</tr>
<tr>
<td>/lib</td>
<td>包含核心系统程序所使用的共享库文件。这些文件与 Windows 中的动态链接库相似。</td>
</tr>
<tr>
<td>/lost+found</td>
<td>每个使用 Linux 文件系统的格式化分区或设备，例如 ext3文件系统， 都会有这个目录。当部分恢复一个损坏的文件系统时，会用到这个目录。这个目录应该是空的，除非文件系统 真正的损坏了。</td>
</tr>
<tr>
<td>/media</td>
<td>在现在的 Linux 系统中，/media 目录会包含可移动介质的挂载点， 例如 USB 驱动器，CD-ROMs 等等。这些介质连接到计算机之后，会自动地挂载到这个目录结点下。</td>
</tr>
<tr>
<td>/mnt</td>
<td>在早些的 Linux 系统中，/mnt 目录包含可移动介质的挂载点。</td>
</tr>
<tr>
<td>/opt</td>
<td>这个/opt 目录被用来安装“可选的”软件。这个主要用来存储可能 安装在系统中的商业软件产品。</td>
</tr>
<tr>
<td>/proc</td>
<td>这个/proc 目录很特殊。从存储在硬盘上的文件的意义上说，它不是真正的文件系统。 相反，它是一个由 Linux 内核维护的虚拟文件系统。它所包含的文件是内核的窥视孔。这些文件是可读的， 它们会告诉你内核是怎样监管计算机的。</td>
</tr>
<tr>
<td>/root</td>
<td>root 帐户的家目录。</td>
</tr>
<tr>
<td>/sbin</td>
<td>这个目录包含“系统”二进制文件。它们是完成重大系统任务的程序，通常为超级用户保留。</td>
</tr>
<tr>
<td>/tmp</td>
<td>这个/tmp 目录，是用来存储由各种程序创建的临时文件的地方。一些配置导致系统每次 重新启动时，都会清空这个目录。</td>
</tr>
<tr>
<td>/usr</td>
<td>在 Linux 系统中，/usr 目录可能是最大的一个。它包含普通用户所需要的所有程序和文件。</td>
</tr>
<tr>
<td>/usr/bin</td>
<td>/usr/bin 目录包含系统安装的可执行程序。通常，这个目录会包含许多程序。</td>
</tr>
<tr>
<td>/usr/lib</td>
<td>包含由/usr/bin 目录中的程序所用的共享库。</td>
</tr>
<tr>
<td>/usr/local</td>
<td>这个/usr/local 目录，是非系统发行版自带程序的安装目录。 通常，由源码编译的程序会安装在/usr/local/bin 目录下。新安装的 Linux 系统中会存在这个目录， 并且在管理员安装程序之前，这个目录是空的。</td>
</tr>
<tr>
<td>/usr/sbin</td>
<td>包含许多系统管理程序。</td>
</tr>
<tr>
<td>/usr/share</td>
<td>/usr/share 目录包含许多由/usr/bin 目录中的程序使用的共享数据。 其中包括像默认的配置文件、图标、桌面背景、音频文件等等。</td>
</tr>
<tr>
<td>/usr/share/doc</td>
<td>大多数安装在系统中的软件包会包含一些文档。在/usr/share/doc 目录下， 我们可以找到按照软件包分类的文档。</td>
</tr>
<tr>
<td>/var</td>
<td>除了/tmp 和/home 目录之外，相对来说，目前我们看到的目录是静态的，这是说， 它们的内容不会改变。/var 目录存放的是动态文件。各种数据库，假脱机文件， 用户邮件等等，都位于在这里。</td>
</tr>
<tr>
<td>/var/log</td>
<td>这个/var/log 目录包含日志文件、各种系统活动的记录。这些文件非常重要，并且 应该时时监测它们。其中最重要的一个文件是/var/log/messages。注意，为了系统安全，在一些系统中， 你必须是超级用户才能查看这些日志文件。</td>
</tr>
</tbody>
</table>
<p>有趣的文件：</p>
<ul>
<li>/boot/grub/grub.conf or menu.lst， 被用来配置启动加载程序。</li>
<li>/boot/vmlinuz，Linux 内核。</li>
<li>/etc/crontab， 定义自动运行的任务。</li>
<li>/etc/fstab，包含存储设备的列表，以及与他们相关的挂载点。</li>
<li>/etc/passwd，包含用户帐号列表。</li>
</ul>
<h1 id="符号链接"><a href="#符号链接" class="headerlink" title="符号链接"></a>符号链接</h1><p>在上面 ls -al 的实例中，我们发现了一个信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lrwxrwxrwx    1 root     root            14 Jun  8  2015 devmem -&gt; ../bin/busybox</span><br></pre></td></tr></table></figure>
<p>为何这条信息第一个字符是“l”，并且有两个文件名呢？ 这是一个特殊文件，叫做符号链接（也称为软链接或者 symlink ）。 在大多数“类 Unix” 系统中， 有可能一个文件被多个文件名所指向。虽然这种特性的意义并不明显，但它真的很有用。</p>
<p>描绘一下这样的情景：</p>
<blockquote>
<p>一个程序要求使用某个包含在名为“foo”文件中的共享资源，但是“foo”经常改变版本号。<br>这样，在文件名中包含版本号，会是一个好主意，因此管理员或者其它相关方，会知道安装了哪个“foo”版本。<br>这会导致另一个问题。如果我们更改了共享资源的名字，那么我们必须跟踪每个可能使用了 这个共享资源的程序，当每次这个资源的新版本被安装后，都要让使用了它的程序去寻找新的资源名。 这听起来很没趣。</p>
</blockquote>
<p>这就是符号链接存在至今的原因。比方说，我们安装了文件 “foo” 的 2.6 版本，它的 件名是 “foo-2.6”，然后创建了叫做 “foo” 的符号链接，这个符号链接指向 “foo-2.6”。<br>这意味着，当一个程序打开文件 “foo” 时，它实际上是打开文件 “foo-2.6”。 现在，每个人都很高兴。依赖于 “foo” 文件的程序能找到这个文件，并且我们能知道安装了哪个文件版本。<br>当升级到 “foo-2.7” 版本的时候，仅添加这个文件到文件系统中，删除符号链接 “foo”， 创建一个指向新版本的符号链接。这不仅解决了版本升级问题，而且还允许在系统中保存两个不同的文件版本。<br>假想 “foo-2.7” 有个错误，那我们得回到原来的版本。 一样的操作，我们只需要删除指向新版本的符号链接，然后创建指向旧版本的符号链接就可以了。</p>
<p><strong>拓展阅读</strong></p>
<p>完整的 Linux 文件系统层次体系标准可通过以下链接找到：<br><a href="http://www.pathname.com/fhs/" target="_blank" rel="noopener">http://www.pathname.com/fhs/</a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-TheLinuxCommandLineLearn/Notes-2" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/07/31/TheLinuxCommandLineLearn/Notes-2/" itemprop="url">
            <img src="/images/TheLinuxCommandLineLearn/TheLinuxCommandLineLearn-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/31/TheLinuxCommandLineLearn/Notes-2/">快乐的 Linux 命令行 个人笔记(2)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/07/31/TheLinuxCommandLineLearn/Notes-2/">
            <time datetime="2018-07-30T19:32:10.000Z" itemprop="datePublished">2018-07-31</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Linux/">Linux</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Linux/">Linux</a>, <a class="tag-link" href="/tags/Shell/">Shell</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>本文对应章节：<br><a href="http://billie66.github.io/TLCL/book/chap03.html" target="_blank" rel="noopener">文件系统中跳转</a></p>
<h1 id="理解文件系统树"><a href="#理解文件系统树" class="headerlink" title="理解文件系统树"></a>理解文件系统树</h1><p>类似于 Windows，一个“类 Unix” 的操作系统，比如说 Linux，以分层目录结构来组织所有文件。 这就意味着所有文件组成了一棵树型目录（有时候在其它系统中叫做文件夹）， 这个目录树可能包含文件和其它的目录。文件系统中的第一级目录称为根目录。 根目录包含文件和子目录，子目录包含更多的文件和子目录，依此类推。</p>
<p>注意(类 Unix 系统)不像 Windows ，每个存储设备都有一个独自的文件系统。类 Unix 操作系统， 比如 Linux，总是只有一个单一的文件系统树，不管有多少个磁盘或者存储设备连接到计算机上。 根据负责维护系统安全的系统管理员的兴致，存储设备连接到（或着更精确些，是挂载到）目录树的各个节点上。</p>
<p><img src="\images\TheLinuxCommandLineLearn\Notes-3-1.png" alt="图1: 由图形化文件管理器显示的文件系统树"></p>
<p>大多数人都可能熟悉如图1所示描述文件系统树的图形文件管理器。注 通常这是一棵倒置的树，也就是说，树根在最上面，而各个枝干在下面展开。然而，命令行没有这样的图片，所以我们需要把文件系统树想象成别的样子。</p>
<p>把文件系统想象成一个迷宫形状，就像一棵倒立的大树，我们站在迷宫的中间位置。 在任意时刻，我们处于一个目录里面，我们能看到这个目录包含的所有文件， 以及通往上面目录（父目录）的路径，和下面的各个子目录。我们所在的目录则称为 当前工作目录。我们使用 pwd（print working directory(的缩写)）命令，来显示当前工作目录。</p>
<p>当我们首次登录系统（或者启动终端仿真器会话）后，当前工作目录是我们的家目录。 每个用户都有他自己的家目录，<strong>当用户以普通用户的身份操控系统时，家目录是唯一允许用户写入文件的地方。</strong></p>
<h1 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h1><p>列出一个目录包含的文件及子目录。<br>默认的使用方法只列出当前目录下的内容，但是实际上 ls 可以列出任一目录的内容。如果你的终端支持色彩，你会发现 ls 用不同的颜色来区分文件的类型，这对我们寻找指定文件很有帮助。</p>
<h1 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h1><p>更改工作目录。</p>
<p>输入 cd, 然后输入你想要去的工作目录的路径名。路径名就是沿着目录树的分支 到达想要的目录期间所经过的路线。路径名可通过两种方式来指定，一种是绝对路径， 另一种是相对路径。</p>
<h2 id="绝对路径"><a href="#绝对路径" class="headerlink" title="绝对路径"></a>绝对路径</h2><p>绝对路径开始于根目录，紧跟着目录树的一个个分支，一直到达所期望的目录或文件。</p>
<h2 id="相对路径"><a href="#相对路径" class="headerlink" title="相对路径"></a>相对路径</h2><p>绝对路径从根目录开始，直到它的目的地，而相对路径开始于工作目录。 为了做到这个（用相对路径表示）， 我们在文件系统树中用一对特殊符号来表示相对位置。 这对特殊符号是 “.” (点) 和 “..” (点点)。</p>
<p>符号 “.” 指的是工作目录（或者可以看作当前目录），”..” 指的是工作目录的父目录。</p>
<p>在几乎所有的情况下，可以省略”./”。它是隐含的，例外的情况，包括但不仅包括运行当前目录下一个可执行文件。</p>
<p>cd 快捷键</p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>运行结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>cd</td>
<td>更改工作目录到你的家目录。</td>
</tr>
<tr>
<td>cd -</td>
<td>更改工作目录到先前的工作目录。</td>
</tr>
<tr>
<td>cd ~user_name</td>
<td>更改工作目录到用户家目录。例如, cd ~bob 会更改工作目录到用户“bob”的家目录。</td>
</tr>
</tbody>
</table>
<h1 id="关于文件名的重要规则"><a href="#关于文件名的重要规则" class="headerlink" title="关于文件名的重要规则"></a>关于文件名的重要规则</h1><ol>
<li>以 “.” 字符开头的文件名是隐藏文件。这仅表示，ls 命令不能列出它们， 用 ls -a 命令就可以了。当你创建帐号后，几个配置帐号的隐藏文件被放置在 你的家目录下。稍后，我们会仔细研究一些隐藏文件，来定制你的系统环境。 另外，一些应用程序也会把它们的配置文件以隐藏文件的形式放在你的家目录下面。</li>
<li>文件名和命令名是大小写敏感的。文件名 “File1” 和 “file1” 是指两个不同的文件名。</li>
<li>Linux 没有“文件扩展名”的概念，不像其它一些系统。可以用你喜欢的任何名字 来给文件起名。文件内容或用途由其它方法来决定。虽然类 Unix 的操作系统， 不用文件扩展名来决定文件的内容或用途，但是有些应用程序会。</li>
<li>虽然 Linux 支持长文件名，文件名可能包含空格，标点符号，但标点符号仅限 使用 “.”，“－”，下划线。最重要的是，不要在文件名中使用空格。如果你想表示词与词之间的空格，用下划线字符来代替。过些时候，你会感激自己这样做。</li>
</ol>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-TheLinuxCommandLineLearn/Notes-1" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/07/30/TheLinuxCommandLineLearn/Notes-1/" itemprop="url">
            <img src="/images/TheLinuxCommandLineLearn/TheLinuxCommandLineLearn-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/30/TheLinuxCommandLineLearn/Notes-1/">快乐的 Linux 命令行 个人笔记(1)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/07/30/TheLinuxCommandLineLearn/Notes-1/">
            <time datetime="2018-07-29T19:34:11.000Z" itemprop="datePublished">2018-07-30</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Linux/">Linux</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Linux/">Linux</a>, <a class="tag-link" href="/tags/Shell/">Shell</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>此书网站：<a href="http://linuxcommand.org/tlcl.php" target="_blank" rel="noopener">The Linux Command Line</a> ，它是免费的。<br>此书中文版：<a href="https://billie66.github.io/TLCL/" target="_blank" rel="noopener">快乐的 Linux 命令行</a><br>我是跟着中英对照版进行学习，安装了 Ubuntu Server 17.10 的虚拟机作为学习环境，本系列的相当一部分内容都是从原书摘抄修改。</p>
<p>本文对应章节：<br><a href="http://billie66.github.io/TLCL/book/chap02.html" target="_blank" rel="noopener">什么是 shell</a></p>
<h1 id="什么是Shell"><a href="#什么是Shell" class="headerlink" title="什么是Shell"></a>什么是Shell</h1><p>shell 就是一个程序，它接受从键盘输入的命令， 然后把命令传递给操作系统去执行。几乎所有的 Linux 发行版都提供一个名为 bash 的 来自 GNU 项目的 shell 程序。“bash” 是 “Bourne Again SHell” 的首字母缩写， 所指的是这样一个事实，bash 是最初 Unix 上由 Steve Bourne 写成 shell 程序 sh 的增强版。</p>
<h1 id="终端仿真器"><a href="#终端仿真器" class="headerlink" title="终端仿真器"></a>终端仿真器</h1><p>有了 shell 不够，我们需要一个名为终端仿真器的程序来于 shell 沟通。一般它被简单的称为 terminal，但 KDE 使用的是konsole，GNOME 使用 gnome-terminal，但是它们的目的都是相同的，让我们能够访问 shell。</p>
<h1 id="Shell提示符"><a href="#Shell提示符" class="headerlink" title="Shell提示符"></a>Shell提示符</h1><p>当 Shell 准备好去接收输入时，他会显示一行提示，提示可能会因为不同的环境会有不同的模样，但是通常的，提示会包括 你的用户名@主机名，紧接着当前工作目录和一个美元符号。<br>如果提示符的最后一个字符是“#”, 而不是“\$”, 那么这个终端会话就有超级用户权限。 这意味着，我们或者是以 root 用户的身份登录，或者是我们选择的终端仿真器提供超级用户（管理员）权限。</p>
<h1 id="命令历史"><a href="#命令历史" class="headerlink" title="命令历史"></a>命令历史</h1><p>如果按下 <code>上箭头</code> 按键，我们会看到刚才输入的命令重新出现在提示符。 这叫命令历史。许多 Linux 发行版默认保存最后输入的500个命令。 按下 <code>下箭头</code> 按键，先前输入的命令就消失了。<br>我们可以利用上下箭头加快我们输入的效率，这里的上下箭头出现的内容其实是之前输入过的命令，而同时，<code>左右箭头</code> 按键可以帮助我们定位到命令行的期望位置。</p>
<h1 id="简单命令"><a href="#简单命令" class="headerlink" title="简单命令"></a>简单命令</h1><h2 id="date"><a href="#date" class="headerlink" title="date"></a>date</h2><p>显示当前日期。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tue Jul 31 02:49:03 CST 2018</span><br></pre></td></tr></table></figure>
<h2 id="cal"><a href="#cal" class="headerlink" title="cal"></a>cal</h2><p>以日历形式显示当前日期，当前日高亮标出。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">     July 2018</span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line"> 1  2  3  4  5  6  7</span><br><span class="line"> 8  9 10 11 12 13 14</span><br><span class="line">15 16 17 18 19 20 21</span><br><span class="line">22 23 24 25 26 27 28</span><br><span class="line">29 30 31</span><br></pre></td></tr></table></figure>
<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><p>查看磁盘剩余空间的数量。</p>
<h2 id="free"><a href="#free" class="headerlink" title="free"></a>free</h2><p>显示空闲内存的数量。</p>
<h2 id="exit"><a href="#exit" class="headerlink" title="exit"></a>exit</h2><p>结束终端对话。</p>
<h1 id="幕后控制台"><a href="#幕后控制台" class="headerlink" title="幕后控制台"></a>幕后控制台</h1><p>即使终端仿真器没有运行，在后台仍然有几个终端会话运行着。它们叫做虚拟终端 或者是虚拟控制台。在大多数 Linux 发行版中，这些终端会话都可以通过按下 Ctrl-Alt-F1 到 Ctrl-Alt-F6 访问。当一个会话被访问的时候， 它会显示登录提示框，我们需要输入用户名和密码。要从一个虚拟控制台转换到另一个， 按下 Alt 和 F1-F6(中的一个)。返回图形桌面，按下 Alt-F7。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Graphviz/GetStart-2" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/07/29/Graphviz/GetStart-2/" itemprop="url">
            <img src="/images/Graphviz/Graphviz-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/29/Graphviz/GetStart-2/">Graphviz上手(2) 常用知识点</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/07/29/Graphviz/GetStart-2/">
            <time datetime="2018-07-28T17:30:07.375Z" itemprop="datePublished">2018-07-29</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Graphviz/">Graphviz</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Graphviz/">Graphviz</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="批量多边"><a href="#批量多边" class="headerlink" title="批量多边"></a>批量多边</h1><p>一对多：<br> 节点文字内容-&gt;{节点文字内容 ;节点文字内容 ;节点文字内容 }<br> 如：a-&gt;{b;c;d}</p>
<p>多对一：<br>{节点文字内容 ; 节点文字内容 ; 节点文字内容}-&gt;节点文字内容<br>如：{b;c;d}-&gt;a</p>
<p>同样的也有多对多。</p>
<h1 id="颜色名称列表"><a href="#颜色名称列表" class="headerlink" title="颜色名称列表"></a>颜色名称列表</h1><p><img src="\images\Graphviz\GetStart-2-1.png" alt=""></p>
<h1 id="形状名称列表"><a href="#形状名称列表" class="headerlink" title="形状名称列表"></a>形状名称列表</h1><p><img src="\images\Graphviz\GetStart-2-2.png" alt=""></p>
<h1 id="设置两节点间边的方向"><a href="#设置两节点间边的方向" class="headerlink" title="设置两节点间边的方向"></a>设置两节点间边的方向</h1><p>节点文字内容&gt;节点文字内容[dir = 方向名称]<br>如：a-&gt;b[dir=both]、a–b[dir=back]。</p>
<p>4个系统方向名称：</p>
<ol>
<li>both（a<->b）</-></li>
<li>none(a–b)</li>
<li>back(a&lt;-b)</li>
<li>forward(a-&gt;b)</li>
</ol>
<p>有向图中默认为forward，无向图中默认为none。</p>
<h1 id="复杂结构"><a href="#复杂结构" class="headerlink" title="复杂结构"></a>复杂结构</h1><p><img src="\images\Graphviz\GetStart-2-3.png" alt=""></p>
<p>上图的结构十分复杂， Graphviz 依然可以画出，源码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">digraph structs &#123;</span><br><span class="line">    node [shape=record];</span><br><span class="line">    struct1 [shape=record,label=&quot;&lt;f0&gt; left|&lt;f1&gt; mid\ dle|&lt;f2&gt; right&quot;];</span><br><span class="line">    struct2 [shape=record,label=&quot;&lt;f0&gt; one|&lt;f1&gt; two&quot;];</span><br><span class="line">    struct3 [shape=record,label=&quot;hello\nworld |&#123; b |&#123;c|&lt;here&gt; d|e&#125;| f&#125;| g | h&quot;];</span><br><span class="line">    struct1 -&gt; struct2;</span><br><span class="line">    struct1 -&gt; struct3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="\images\Graphviz\GetStart-2-4.png" alt=""></p>
<p>Graphviz 中的 label 标签还支持 Html 格式，上图可以用下面混入 html 的代码画出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">digraph html &#123;</span><br><span class="line">    abc [shape=none, margin=0, label=&lt;</span><br><span class="line">    &lt;TABLE BORDER=&quot;0&quot; CELLBORDER=&quot;1&quot; CELLSPACING=&quot;0&quot; CELLPADDING=&quot;4&quot;&gt;</span><br><span class="line">        &lt;TR&gt;&lt;TD ROWSPAN=&quot;3&quot;&gt;&lt;FONT COLOR=&quot;red&quot;&gt;hello&lt;/FONT&gt;&lt;BR/&gt;world&lt;/TD&gt;</span><br><span class="line">            &lt;TD COLSPAN=&quot;3&quot;&gt;b&lt;/TD&gt;</span><br><span class="line">            &lt;TD ROWSPAN=&quot;3&quot; BGCOLOR=&quot;lightgrey&quot;&gt;g&lt;/TD&gt;</span><br><span class="line">            &lt;TD ROWSPAN=&quot;3&quot;&gt;h&lt;/TD&gt;</span><br><span class="line">        &lt;/TR&gt;</span><br><span class="line">        &lt;TR&gt;&lt;TD&gt;c&lt;/TD&gt;</span><br><span class="line">            &lt;TD PORT=&quot;here&quot;&gt;d&lt;/TD&gt;</span><br><span class="line">            &lt;TD&gt;e&lt;/TD&gt;</span><br><span class="line">        &lt;/TR&gt;</span><br><span class="line">        &lt;TR&gt;&lt;TD COLSPAN=&quot;3&quot;&gt;f&lt;/TD&gt;&lt;/TR&gt;</span><br><span class="line">    &lt;/TABLE&gt;&gt;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="子图"><a href="#子图" class="headerlink" title="子图"></a>子图</h1><p>在dot中以cluster开头的子图会被当做是一个新的布局来处理，而不是在原图的基础上继续操作。</p>
<p><img src="\images\Graphviz\GetStart-2-5.png" alt=""></p>
<p>上图是个流程图，值得注意的是子图一定用 subgraph 声明，且图名称前面一定要带有 cluster 这个关键词。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">digraph G &#123;</span><br><span class="line">    subgraph cluster0 &#123;</span><br><span class="line">        node [style=filled,color=white];</span><br><span class="line">        style=filled;</span><br><span class="line">        color=lightgrey;</span><br><span class="line">        a0 -&gt; a1 -&gt; a2 -&gt; a3;</span><br><span class="line">        label = &quot;process #1&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    subgraph cluster1 &#123;</span><br><span class="line">        node [style=filled];</span><br><span class="line">        b0 -&gt; b1 -&gt; b2 -&gt; b3;</span><br><span class="line">        label = &quot;process #2&quot;;</span><br><span class="line">        color=blue</span><br><span class="line">    &#125;</span><br><span class="line">    start -&gt; a0;</span><br><span class="line">    start -&gt; b0;</span><br><span class="line">    a1 -&gt; b3;</span><br><span class="line">    b2 -&gt; a3;</span><br><span class="line">    a3 -&gt; a0;</span><br><span class="line">    a3 -&gt; end;</span><br><span class="line">    b3 -&gt; end;</span><br><span class="line">    start [shape=Mdiamond];</span><br><span class="line">    end [shape=Msquare];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果我们想直接指向子图怎么办，我们要设置 compound 为true，并配合 lhead 或 ltail 来实现。</p>
<p><img src="\images\Graphviz\GetStart-2-6.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">digraph G &#123;</span><br><span class="line">    compound=true;</span><br><span class="line">    subgraph cluster0 &#123;</span><br><span class="line">        a;</span><br><span class="line">    &#125;</span><br><span class="line">    subgraph cluster1 &#123;</span><br><span class="line">        b;</span><br><span class="line">    &#125;</span><br><span class="line">    a -&gt; b [lhead=cluster1];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="以图片为节点"><a href="#以图片为节点" class="headerlink" title="以图片为节点"></a>以图片为节点</h1><p>节点还可以使用图片，通过在节点中使用 <code>image=&quot;image_path&quot;</code> 来设置图片。不过需要注意的是，在使用图片作为节点的时候，需要将本来的形状设置为 none，并且将 label 置为空字符串，避免出现文字对图片的干扰。</p>
<h1 id="python-调用"><a href="#python-调用" class="headerlink" title="python 调用"></a>python 调用</h1><p>除了可以使用 dot 文件编写图形外，也可以使用python编写相关的代码，生成图形文件。<br>安装 python 对应的 graphviz 相应的模块：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pygraphviz</span><br></pre></td></tr></table></figure>
<p>一个实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引用 pygraphviz</span></span><br><span class="line"><span class="keyword">import</span> pygraphviz <span class="keyword">as</span> pgv</span><br><span class="line"><span class="comment"># 初始化图类</span></span><br><span class="line">G = pgv.AGraph()</span><br><span class="line"><span class="comment"># 增加节点和边</span></span><br><span class="line">G.add_node(<span class="string">'a'</span>)       <span class="comment"># adds node 'a'</span></span><br><span class="line">G.add_edge(<span class="string">'b'</span>,<span class="string">'c'</span>)   <span class="comment"># adds edge 'b'-'c' (and also nodes 'b', 'c')</span></span><br><span class="line"><span class="comment"># 设置属性</span></span><br><span class="line">G.graph_attr[<span class="string">'label'</span>] = <span class="string">'test graphf'</span></span><br><span class="line">G.node_attr[<span class="string">'shape'</span>] = <span class="string">'circle'</span></span><br><span class="line">G.edge_attr[<span class="string">'color'</span>] = <span class="string">'red'</span></span><br><span class="line"><span class="comment"># 设置输出的格式</span></span><br><span class="line">G.layout()              <span class="comment"># default to neato</span></span><br><span class="line">G.layout(prog=<span class="string">'dot'</span>)    <span class="comment"># use do</span></span><br><span class="line"><span class="comment"># 输出到文件</span></span><br><span class="line">G.draw(<span class="string">'file.png'</span>)              <span class="comment"># write previously positioned graph to PNG file</span></span><br><span class="line">G.draw(<span class="string">'file.ps'</span>,prog=<span class="string">'circo'</span>)  <span class="comment"># use circo to position, write PS file</span></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><ol>
<li><a href="https://blog.csdn.net/sd10086/article/details/52979462/" target="_blank" rel="noopener">https://blog.csdn.net/sd10086/article/details/52979462/</a></li>
<li><a href="https://www.cnblogs.com/taceywong/p/5439574.html" target="_blank" rel="noopener">https://www.cnblogs.com/taceywong/p/5439574.html</a></li>
<li><a href="https://www.jianshu.com/p/5b02445eca1d" target="_blank" rel="noopener">https://www.jianshu.com/p/5b02445eca1d</a></li>
<li><a href="https://www.cnblogs.com/liang1101/p/7641984.html" target="_blank" rel="noopener">https://www.cnblogs.com/liang1101/p/7641984.html</a></li>
</ol>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Graphviz/GetStart-1" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2018/07/28/Graphviz/GetStart-1/" itemprop="url">
            <img src="/images/Graphviz/Graphviz-banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/28/Graphviz/GetStart-1/">Graphviz上手(1) 画图</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/07/28/Graphviz/GetStart-1/">
            <time datetime="2018-07-28T13:24:20.633Z" itemprop="datePublished">2018-07-28</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Graphviz/">Graphviz</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Graphviz/">Graphviz</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><blockquote>
<p>Graphviz 是一个由 AT&amp;T 实验室启动的使用 DOT 语言来绘制关系图/流程图的开源工具包。<br>DOT 语言是一种文本图形描述语言，它提供了一种简单的描述图形的方法。<br>使用 Graphviz，我们只需要将精力集中在逻辑设计上，而不需要花费大量时间在图形布局的调整上，图形绘制布局都由工具引擎来搞定。也因此，需要精确定位的图形就不适合用 Graphviz 来绘制了。另外，文本代码绘制图形的方式也便于版本管理。</p>
</blockquote>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>在<a href="http://www.graphviz.org/" target="_blank" rel="noopener">官网</a>下载对应版本，当前最新的稳定版本是 2.3.8 ，已经将近四年年没有更新过。</p>
<p>安装完毕后，windows平台下，将 <code>(安装目录)\Graphviz2.38\bin</code> 加入系统环境变量 PATH 中。</p>
<p>打开输入命令行提示符，输入 <code>dot -V</code>，若出现 <code>dot - graphviz version 2.38.0 (20140413.2041)</code> 说明配置成功，可以开始我们的绘制之旅。</p>
<h1 id="上手"><a href="#上手" class="headerlink" title="上手"></a>上手</h1><p>新建一个 learn.dot，输入我们的第一个程序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//图(gragh)</span><br><span class="line">digraph simple_demo &#123;</span><br><span class="line">    // 节点(Node)</span><br><span class="line">    NodeA[label = &quot;A&quot;]</span><br><span class="line">    NodeB[label = &quot;B&quot;]</span><br><span class="line"></span><br><span class="line">    // 边(edge)</span><br><span class="line">    NodeA -&gt; NodeB[label = &quot;This a edge&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>命令行下输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dot -Tpng learn.dot -o learn.png</span><br></pre></td></tr></table></figure>
<p>查看 learn.png ，内容如下：</p>
<p><img src="\images\Graphviz\GetStart-1-1.png" alt=""></p>
<p>这是我们生成的第一个图片，我们来仔细介绍一下。</p>
<p><strong>digraph </strong></p>
<p>表明这个图是有向图。</p>
<p><strong>_simple_demo </strong></p>
<p>图的名称，一个图必须要有名称。</p>
<p><strong>NodeA/NodeB</strong></p>
<p>节点的内部名称，如果没有指定 label 参数，则会出现在最终图片中。</p>
<p><strong>label</strong></p>
<p>label 是节点的外部名称，用双引号括起。</p>
<p><strong>-&gt;</strong></p>
<p>有向边，从 NodeA 指向 NodeB。</p>
<p>上面的简单例子，给我们展示了 Dot 的语法是十分便于人类理解的，十分的自然。同时揭示了 Dot 语言组成的三个要素：图、节点、边。</p>
<h1 id="支持中文"><a href="#支持中文" class="headerlink" title="支持中文"></a>支持中文</h1><p>使用dot程序生成带有汉字信息的图片，需要注意两点，否则生成的图片中汉字会被显示为乱码：</p>
<ol>
<li>文件应使用UTF-8编码保存，而不是Windows默认的ANSI编码。</li>
<li>字体应指定为支持汉字的字体，如宋体为SimSun。</li>
<li>为了让显示方便更优，中文字符串左右两边应该各留一个空格。</li>
</ol>
<h1 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h1><p>对于各种结构的通用属性如下：</p>
<table>
<thead>
<tr>
<th>属性名称</th>
<th>默认值</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>color</td>
<td>black</td>
<td>颜色，颜色设置支持形如<code>red</code>和<code>#FF0000</code>两种形式</td>
</tr>
<tr>
<td>fontcolor</td>
<td>black</td>
<td>文字颜色</td>
</tr>
<tr>
<td>fontname</td>
<td>Times-Roman</td>
<td>字体</td>
</tr>
<tr>
<td>fontsize</td>
<td>14</td>
<td>文字大小</td>
</tr>
<tr>
<td>label</td>
<td></td>
<td>显示的标签，支持’\n’换行，对于节点默认为节点名称</td>
</tr>
<tr>
<td>penwidth</td>
<td>1.0</td>
<td>线条宽度</td>
</tr>
<tr>
<td>style</td>
<td></td>
<td>样式</td>
</tr>
</tbody>
</table>
<p>常用图属性如下：</p>
<table>
<thead>
<tr>
<th>属性名称</th>
<th>默认值</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>bgcolor</td>
<td></td>
<td>背景颜色</td>
</tr>
<tr>
<td>concentrate</td>
<td>false</td>
<td>是否允许多条边有公共部分</td>
</tr>
<tr>
<td>nodesep</td>
<td>.25</td>
<td>节点之间的间隔（英寸）</td>
</tr>
<tr>
<td>peripheries</td>
<td>1</td>
<td>边界数</td>
</tr>
<tr>
<td>rank</td>
<td></td>
<td>same,min,source, max,sink，设置多个节点顺序</td>
</tr>
<tr>
<td>rankdir</td>
<td>TB</td>
<td>排序方向 可选值有：TB LR BT RL</td>
</tr>
<tr>
<td>ranksep</td>
<td>.75</td>
<td>间隔</td>
</tr>
<tr>
<td>size</td>
<td></td>
<td>图的大小（英寸），如：”2,2”</td>
</tr>
<tr>
<td>labelloc</td>
<td></td>
<td>调整图或子图的标签的上下位置</td>
</tr>
<tr>
<td>labeljust</td>
<td></td>
<td>调整图或子图的标签的左右位置</td>
</tr>
<tr>
<td>compound</td>
<td>false</td>
<td>如果为<code>true</code>，允许边从子图两边接入，配合<code>lhead</code>和<code>ltail</code>使用</td>
</tr>
</tbody>
</table>
<p>常用节点属性如下：</p>
<table>
<thead>
<tr>
<th>属性名称</th>
<th>默认值</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>shape</td>
<td>ellipse</td>
<td>形状</td>
</tr>
<tr>
<td>sides</td>
<td>4</td>
<td>当shape=polygon时的边数</td>
</tr>
<tr>
<td>fillcolor</td>
<td>lightgrey/black</td>
<td>填充颜色</td>
</tr>
<tr>
<td>fixedsize</td>
<td>false</td>
<td>是否让标签影响节点的大小</td>
</tr>
</tbody>
</table>
<p>常用边属性如下：</p>
<table>
<thead>
<tr>
<th>属性名称</th>
<th>默认值</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>arrowhead</td>
<td>normal</td>
<td>箭头头部形状</td>
</tr>
<tr>
<td>arrowsize</td>
<td>1.0</td>
<td>箭头大小</td>
</tr>
<tr>
<td>arrowtail</td>
<td>normal</td>
<td>箭头尾部形状</td>
</tr>
<tr>
<td>constraint</td>
<td>true</td>
<td>是否根据边来影响节点的排序</td>
</tr>
<tr>
<td>decorate</td>
<td></td>
<td>设置之后会用一条线来连接edge和label</td>
</tr>
<tr>
<td>dir</td>
<td>forward</td>
<td>设置方向：forward,back,both,none</td>
</tr>
<tr>
<td>headclip</td>
<td>true</td>
<td>是否到边界为止</td>
</tr>
<tr>
<td>tailclip</td>
<td>true</td>
<td>与headclip类似</td>
</tr>
<tr>
<td>headlabel</td>
<td></td>
<td>边的头部显示的标签</td>
</tr>
<tr>
<td>taillabel</td>
<td></td>
<td>边的尾部显示的标签</td>
</tr>
<tr>
<td>weight</td>
<td>1</td>
<td>边的权重，越大越粗</td>
</tr>
<tr>
<td>lhead</td>
<td></td>
<td>当<code>compound</code>为true时，lhead用于指定边指向的cluster</td>
</tr>
<tr>
<td>ltail</td>
<td></td>
<td>与ltail类似</td>
</tr>
</tbody>
</table>
<h1 id="布局引擎与输出格式"><a href="#布局引擎与输出格式" class="headerlink" title="布局引擎与输出格式"></a>布局引擎与输出格式</h1><p>我们在之前的输出文件命令，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dot -Tpng learn.dot -o learn.png</span><br></pre></td></tr></table></figure>
<p>其中 learn.dot 是我们的源文件，<br>-o learn.png 指明了我们输出的目标文件名为 learn.png，<br>-Tpng 则指明了图片格式用的是png。</p>
<p>其实我们也可以拓展该命令，改为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dot -Kdot -Tpng learn.dot -o learn.png</span><br></pre></td></tr></table></figure>
<p>其中 -Kdot 表示使用 dot 布局。</p>
<p>Graphviz支持几种布局引擎：</p>
<ul>
<li>dot：默认布局方式，主要用于有向图</li>
<li>neato：主要用于无向图</li>
<li>twopi：主要用于径向布局</li>
<li>circo：圆环布局</li>
<li>fdp：主要用于无向图</li>
<li>sfdp：主要绘制较大的无向图</li>
<li>patchwork：主要用于树哈希图（tree map）</li>
</ul>
<p>Graphviz支持的输出图片格式更是相当的多，常用的有以下几种：</p>
<ul>
<li>pdf</li>
<li>gif</li>
<li>png</li>
<li>jpeg</li>
<li>bmp</li>
<li>svg（矢量图，一般用与Web，可以用浏览器打开）</li>
<li>ps（矢量线图，多用于打印）</li>
</ul>
<p>更多的输出格式可以浏览 Graphviz 输出格式进行查看。</p>
<hr>
<h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><ol>
<li><a href="https://blog.csdn.net/sd10086/article/details/52979462/" target="_blank" rel="noopener">https://blog.csdn.net/sd10086/article/details/52979462/</a></li>
<li><a href="https://www.cnblogs.com/taceywong/p/5439574.html" target="_blank" rel="noopener">https://www.cnblogs.com/taceywong/p/5439574.html</a></li>
<li><a href="http://www.360doc.com/content/16/0619/00/9482_568900997.shtml" target="_blank" rel="noopener">http://www.360doc.com/content/16/0619/00/9482_568900997.shtml</a></li>
</ol>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>

</div>

            
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
    </nav>
</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-3/" class="thumbnail">
    
    
        <span style="background-image:url(/images/C/C-Note-thumbnail.png)" alt="C Traps and Pitfalls 摘记(3)" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C/">C</a></p>
                            <p class="item-title"><a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-3/" class="title">C Traps and Pitfalls 摘记(3)</a></p>
                            <p class="item-date"><time datetime="2018-12-17T06:34:25.000Z" itemprop="datePublished">2018-12-17</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-2/" class="thumbnail">
    
    
        <span style="background-image:url(/images/C/C-Note-thumbnail.png)" alt="C Traps and Pitfalls 摘记(2)" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C/">C</a></p>
                            <p class="item-title"><a href="/2018/12/17/C/Note-C-Traps-and-Pitfalls-2/" class="title">C Traps and Pitfalls 摘记(2)</a></p>
                            <p class="item-date"><time datetime="2018-12-16T16:14:32.000Z" itemprop="datePublished">2018-12-17</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/12/15/C/Thinking-C-Traps-and-Pitfalls-1/" class="thumbnail">
    
    
        <span style="background-image:url(/images/C/C-Note-thumbnail.png)" alt="C Traps and Pitfalls 练习摘记(1)" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C/">C</a></p>
                            <p class="item-title"><a href="/2018/12/15/C/Thinking-C-Traps-and-Pitfalls-1/" class="title">C Traps and Pitfalls 练习摘记(1)</a></p>
                            <p class="item-date"><time datetime="2018-12-15T15:25:29.000Z" itemprop="datePublished">2018-12-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/10/07/Cplusplus/Note-Effective-Cpp-1/" class="thumbnail">
    
    
        <span style="background-image:url(/images/Cplusplus/Cplusplus-thumbnail.png)" alt="Effective C++ 摘记(1)" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C/">C++</a></p>
                            <p class="item-title"><a href="/2018/10/07/Cplusplus/Note-Effective-Cpp-1/" class="title">Effective C++ 摘记(1)</a></p>
                            <p class="item-date"><time datetime="2018-10-06T19:12:56.000Z" itemprop="datePublished">2018-10-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/08/09/C/Note-C-Traps-and-Pitfalls-1/" class="thumbnail">
    
    
        <span style="background-image:url(/images/C/C-Note-thumbnail.png)" alt="C Traps and Pitfalls 摘记(1)" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C/">C</a></p>
                            <p class="item-title"><a href="/2018/08/09/C/Note-C-Traps-and-Pitfalls-1/" class="title">C Traps and Pitfalls 摘记(1)</a></p>
                            <p class="item-date"><time datetime="2018-08-09T13:35:39.000Z" itemprop="datePublished">2018-08-09</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Graphviz/">Graphviz</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Qt/">Qt</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TensorFlow/">TensorFlow</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/文学/">文学</a><span class="category-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">11</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Graphviz/">Graphviz</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hello-World/">Hello World</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Project-Euler/">Project Euler</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Qt/">Qt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/">Shell</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/">TensorFlow</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文学/">文学</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/滕王阁序/">滕王阁序</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/转载/">转载</a><span class="tag-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/C/" style="font-size: 16px;">C</a> <a href="/tags/C/" style="font-size: 12px;">C++</a> <a href="/tags/Graphviz/" style="font-size: 12px;">Graphviz</a> <a href="/tags/Hello-World/" style="font-size: 10px;">Hello World</a> <a href="/tags/Linux/" style="font-size: 14px;">Linux</a> <a href="/tags/Project-Euler/" style="font-size: 18px;">Project Euler</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/Qt/" style="font-size: 10px;">Qt</a> <a href="/tags/Shell/" style="font-size: 14px;">Shell</a> <a href="/tags/TensorFlow/" style="font-size: 12px;">TensorFlow</a> <a href="/tags/algorithm/" style="font-size: 18px;">algorithm</a> <a href="/tags/文学/" style="font-size: 14px;">文学</a> <a href="/tags/滕王阁序/" style="font-size: 14px;">滕王阁序</a> <a href="/tags/转载/" style="font-size: 14px;">转载</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 KylinEyes<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>